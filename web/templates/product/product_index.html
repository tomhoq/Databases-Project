{% extends 'base.html' %}

{% block header %}
  <h1>{% block title %}Products{% endblock %}</h1>
  <a class="button" href="{{ url_for('product_register')}}">Add</a>
{% endblock %}

{% block content %}

  {% for product in products %}
    <article class="post">
      <header>
        <div>
            
          <h1>{{ product['name'] }}</h1>
          <div class="about">{{ product['sku'] }}</div>
        </div>
        <a class="action" href="{{ url_for('product_update', sku=product['sku']) }}">Edit</a>
      </header>
      {% if product['description'] %}
        <p class="body">{{ product['description'] }}</p>
      {% endif %}
      <p class="body">â‚¬ {{ product['price'] }}</p>
      {% if product['description'] %}
          <div class="last_line" >
              <p class="body">EAN: {{ product['ean'] }}</p>
              <label for="qty">Quantity to Order</label>
              <input name="qty" id="qty" type="number" min="0" step="1" value="0" >
          </div>
      {% endif %}
    </article>
    {% if not loop.last %}
      <hr>
    {% endif %}
  {% endfor %}
  <script>
      // Default value example
      var defaultValue = 0; // Set your desired default value here

      // Get the input element
      var priceInput = document.getElementById('price');

      // Set the default value
      priceInput.value = defaultValue;

      // Event listener to update the default value if changed by the user
      priceInput.addEventListener('input', function(event) {
        defaultValue = event.target.value;
      });
    </script>
{% endblock %}
